<mat-horizontal-stepper #stepper class="mt-3" labelPosition="bottom">
  <mat-step [stepControl]="firstFormGroup">
    <form [formGroup]="firstFormGroup">
      <ng-template matStepLabel>Pais de visita</ng-template>
      <mat-form-field class="example-full-width col-6">
        <input [(ngModel)]="data.city.state.country.name"
               [formControl]="countryControl"
               [matAutocomplete]="countryAuto"
               aria-label="Number"
               matInput
               placeholder="Selecciona el PaÃ­s"
               type="text">
        <mat-autocomplete #countryAuto="matAutocomplete" autoActiveFirstOption>
          <mat-option *ngFor="let countryOption of countryOptions | async" [value]="countryOption">
            {{countryOption}}
          </mat-option>
        </mat-autocomplete>
      </mat-form-field>
      <div>
        <button (click)="getAllState()" [disabled]="!validateCountry()" mat-button matStepperNext>Continuar</button>
      </div>
    </form>
  </mat-step>
  <mat-step [stepControl]="secondFormGroup">
    <form [formGroup]="secondFormGroup">
      <ng-template matStepLabel>Estado de visita</ng-template>
      <mat-form-field class="example-full-width col-6">
        <input [(ngModel)]="data.city.state.name"
               [formControl]="stateControl"
               [matAutocomplete]="stateAuto"
               aria-label="Number"
               matInput
               placeholder="Selecciona el estado"
               type="text">
        <mat-autocomplete #stateAuto="matAutocomplete" autoActiveFirstOption>
          <mat-option *ngFor="let stateOption of stateOptions | async" [value]="stateOption">
            {{stateOption}}
          </mat-option>
        </mat-autocomplete>
      </mat-form-field>
      <div>
        <button mat-button matStepperPrevious>Regresar</button>
        <button (click)="getAllCity()" [disabled]="!validateState()" mat-button matStepperNext>Continuar</button>
      </div>
    </form>
  </mat-step>
  <mat-step [stepControl]="thirdFormGroup">
    <form [formGroup]="thirdFormGroup">
      <ng-template matStepLabel>Ciudad de visita</ng-template>
      <mat-form-field class="example-full-width col-6">
        <input [(ngModel)]="data.city.name"
               [formControl]="cityControl"
               [matAutocomplete]="cityAuto"
               aria-label="Number"
               matInput
               placeholder="Selecciona tu ciudad"
               type="text">
        <mat-autocomplete #cityAuto="matAutocomplete" autoActiveFirstOption>
          <mat-option *ngFor="let cityOption of cityOptions | async" [value]="cityOption">
            {{cityOption}}
          </mat-option>
        </mat-autocomplete>
      </mat-form-field>
      <div>
        <button (click)="getAllSaleRepresentative()" [disabled]="!validateCity()" mat-button matStepperNext>Continuar
        </button>
      </div>
    </form>
  </mat-step>
  <mat-step [stepControl]="fourthFormGroup">
    <form [formGroup]="fourthFormGroup">
      <ng-template matStepLabel>Representante</ng-template>
      <mat-form-field class="col-6">
        <mat-label>Net</mat-label>
        <input [(ngModel)]="data.net" formControlName="net" appNumberOnly matInput placeholder="Ingresa el Net"
               required>
      </mat-form-field>
      <mat-form-field class="example-full-width col-6">
        <input [(ngModel)]="data.saleRepresentative.name"
               [formControl]="salesControl"
               [matAutocomplete]="salesAuto"
               aria-label="Number"
               matInput
               placeholder="Selecciona tu representante"
               type="text">
        <mat-autocomplete #salesAuto="matAutocomplete" autoActiveFirstOption>
          <mat-option *ngFor="let saleOption of salesOptions | async" [value]="saleOption">
            {{saleOption}}
          </mat-option>
        </mat-autocomplete>
      </mat-form-field>
    </form>
  </mat-step>
</mat-horizontal-stepper>
<div class="mt-3">
  <mat-dialog-actions style="align-content: center; justify-content: center; text-align: center">
    <button (click)="onNoClick()" class="btn btn-primary" mat-button>Cancelar</button>
    <button (click)="onClick()"
            [disabled]="!validateSales()"
            [mat-dialog-close]="data" class="btn btn-primary"
            mat-button>Guardar
    </button>
  </mat-dialog-actions>
</div>

